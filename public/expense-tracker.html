<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Personal Finance Tracker</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root {
  --gold: #f5c542;
  --black: #0a0a0a;
  --card-bg: #121212;
  --accent: #d4a017;
}

body {
  margin: 0;
  font-family: "Poppins", sans-serif;
  background: linear-gradient(135deg, #000000 40%, #1a1a1a 100%);
  color: var(--gold);
  overflow-x: hidden;
}

header {
  text-align: center;
  background: var(--black);
  padding: 20px 0;
  font-size: 2rem;
  font-weight: 700;
  border-bottom: 2px solid var(--gold);
  box-shadow: 0 0 15px rgba(245, 197, 66, 0.3);
}

.container {
  max-width: 900px;
  margin: 40px auto;
  padding: 0 20px;
}

.card {
  background: var(--card-bg);
  border-radius: 15px;
  padding: 20px;
  box-shadow: 0 0 15px rgba(245, 197, 66, 0.2);
  margin-bottom: 25px;
}

.card h2 {
  color: var(--gold);
  text-align: center;
  margin-bottom: 15px;
  border-bottom: 1px solid var(--gold);
  padding-bottom: 5px;
}

.inputs {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
  text-align: center;
}

input, select, button {
  padding: 10px;
  border-radius: 8px;
  border: 1px solid var(--gold);
  background: transparent;
  color: var(--gold);
  font-size: 1rem;
  transition: 0.3s;
}

input:focus, select:focus {
  outline: none;
  box-shadow: 0 0 10px var(--gold);
}

button {
  background: var(--gold);
  color: #000;
  border: none;
  cursor: pointer;
  font-weight: 600;
}

button:hover {
  background: var(--accent);
  box-shadow: 0 0 10px var(--gold);
}

.table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
}

.table th, .table td {
  border-bottom: 1px solid #333;
  text-align: center;
  padding: 10px;
}

.table th {
  background: #1b1b1b;
}

.summary {
  display: flex;
  justify-content: space-around;
  background: var(--card-bg);
  border-radius: 10px;
  padding: 15px;
  margin: 20px 0;
  text-align: center;
  box-shadow: 0 0 12px rgba(245,197,66,0.2);
}

.summary div {
  flex: 1;
}

canvas {
  margin-top: 20px;
  background: #000;
  border-radius: 10px;
  padding: 15px;
}

@media(max-width: 600px){
  .inputs { flex-direction: column; }
  .summary { flex-direction: column; gap: 10px; }
}
</style>
</head>

<body>
<header>üí∞ Personal Finance Tracker</header>

<div class="container">
  <div class="card">
    <h2>Add Transaction</h2>
    <div class="inputs">
      <input type="text" id="desc" placeholder="Description (e.g. Grocery)" />
      <input type="number" id="amount" placeholder="Amount ‚Çπ" />
      <select id="type">
        <option value="income">Income</option>
        <option value="expense">Expense</option>
      </select>
      <select id="category">
        <option value="General">General</option>
        <option value="Food">üçî Food</option>
        <option value="Shopping">üõçÔ∏è Shopping</option>
        <option value="Travel">‚úàÔ∏è Travel</option>
        <option value="Bills">üí° Bills</option>
        <option value="Savings">üí∞ Savings</option>
      </select>
      <input type="date" id="date" />
      <button onclick="addTransaction()">‚ûï Add</button>
    </div>
  </div>

  <div class="summary">
    <div>Income: ‚Çπ<span id="totalIncome">0</span></div>
    <div>Expense: ‚Çπ<span id="totalExpense">0</span></div>
    <div>Balance: ‚Çπ<span id="balance">0</span></div>
  </div>

  <div class="card">
    <h2>Transaction History</h2>
    <table class="table" id="transactionTable">
      <tr>
        <th>Description</th>
        <th>Type</th>
        <th>Category</th>
        <th>Amount (‚Çπ)</th>
        <th>Date</th>
      </tr>
    </table>
  </div>

  <div class="card">
    <h2>Overview Chart</h2>
    <canvas id="chart" width="400" height="200"></canvas>
  </div>
</div>

<script>
let transactions = JSON.parse(localStorage.getItem("transactions")) || [];
let chart;

function saveData() {
  localStorage.setItem("transactions", JSON.stringify(transactions));
}

function addTransaction(){
  const desc = document.getElementById("desc").value.trim();
  const amount = parseFloat(document.getElementById("amount").value);
  const type = document.getElementById("type").value;
  const category = document.getElementById("category").value;
  const date = document.getElementById("date").value || new Date().toLocaleDateString();

  if(!desc || !amount){ alert("Please enter description and amount!"); return; }

  transactions.push({desc, amount, type, category, date});
  saveData();
  displayTransactions();
  updateSummary();
  drawChart();

  // Reset input fields
  document.getElementById("desc").value = "";
  document.getElementById("amount").value = "";
  document.getElementById("date").value = "";
}

function displayTransactions(){
  const table = document.getElementById("transactionTable");
  table.innerHTML = `
  <tr>
    <th>Description</th>
    <th>Type</th>
    <th>Category</th>
    <th>Amount (‚Çπ)</th>
    <th>Date</th>
  </tr>`;
  transactions.forEach((t, index) => {
    const row = document.createElement("tr");
    row.innerHTML = `
      <td>${t.desc}</td>
      <td style="color:${t.type==='income'?'#77dd77':'#ff6666'}">${t.type}</td>
      <td>${t.category}</td>
      <td>${t.amount}</td>
      <td>${t.date}</td>
    `;
    table.appendChild(row);
  });
}

function updateSummary(){
  let income = 0, expense = 0;
  transactions.forEach(t=>{
    if(t.type==='income') income += t.amount;
    else expense += t.amount;
  });
  const balance = income - expense;
  document.getElementById("totalIncome").innerText = income;
  document.getElementById("totalExpense").innerText = expense;
  document.getElementById("balance").innerText = balance;
}

function drawChart(){
  const income = transactions.filter(t=>t.type==='income').reduce((a,b)=>a+b.amount,0);
  const expense = transactions.filter(t=>t.type==='expense').reduce((a,b)=>a+b.amount,0);
  const ctx = document.getElementById("chart").getContext("2d");
  if(chart) chart.destroy();
  chart = new Chart(ctx,{
    type:"doughnut",
    data:{
      labels:["Income","Expense"],
      datasets:[{
        data:[income,expense],
        backgroundColor:["#f5c542","#f44336"],
        borderColor:"#000",
        borderWidth:3,
        hoverOffset:10
      }]
    },
    options:{
      plugins:{
        legend:{labels:{color:'#f5c542'}}
      }
    }
  });
}

// Load on start
displayTransactions();
updateSummary();
drawChart();
</script>
</body>
</html>